.intel_syntax noprefix
.global main
.extern printf
.data
format_str:
.asciz "%d\n"
.text

main:
push ebp
mov ebp, esp
sub esp, 0x100

mov eax, 1
mov DWORD PTR [ebp-4], eax

push DWORD PTR [ebp-4]
push offset format_str
call printf
add esp, 8

mov eax, 12
mov DWORD PTR [ebp-8], eax

push DWORD PTR [ebp-8]
push offset format_str
call printf
add esp, 8

mov eax, 114514
push eax
mov eax, DWORD PTR [ebp-4]
push eax
mov eax, DWORD PTR [ebp-8]
push eax
pop ebx
pop eax
add eax, ebx
push eax
mov eax, 10
push eax
pop ebx
pop eax
cdq
idiv ebx
push edx
pop ebx
pop eax
add eax, ebx
push eax
pop eax
mov DWORD PTR [ebp-12], eax

push DWORD PTR [ebp-12]
push offset format_str
call printf
add esp, 8

mov eax, 0
leave
ret